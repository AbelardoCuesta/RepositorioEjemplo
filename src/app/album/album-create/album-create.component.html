<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-8">
      <div class="card mx-1 my-5">
        <div class="row">
          <div class="col-12 text-center">
            <p class="mt-5 mb-2 fs-3 fw-bold">Crear Álbum</p>
          </div>
        </div>
        <form class="mx-5 my-3" [formGroup]="albumForm" (ngSubmit)="createAlbum(albumForm.value)">
          <!-- Titulo -->
          <div class="row">
            <mat-form-field class="col-12" appearance="fill">
              <mat-label>Título</mat-label>
              <input formControlName="titulo" matInput placeholder="Título del álbum">
            </mat-form-field>
            <!-- Seccion de errores -->
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('titulo')?.hasError('required') && albumForm.get('titulo')?.touched">
            Debe ingresar un título para el álbum
            </div>
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('titulo')?.hasError('minlength')">
              El título debe tener por lo menos un carácter
            </div>
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('titulo')?.hasError('maxlength')">
              El título no debe exceder los 128 carácteres
            </div>
          </div>
          <!-- Año -->
          <div class="row">
            <mat-form-field class="col-12" appearance="fill">
              <mat-label>Año</mat-label>
              <input formControlName="anio" matInput placeholder="Año de lanzamiento">
            </mat-form-field>
            <!-- Seccion de errores -->
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('anio')?.hasError('required') && albumForm.get('anio')?.touched">
              Debe ingresar un año para el álbum
            </div>
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('anio')?.hasError('minlength')">
              El año debe tener 4 números
            </div>
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('anio')?.hasError('maxlength')">
              El año debe tener 4 números
            </div>
          </div>
          <!-- Medio -->
          <div class="row">
           <mat-form-field class="col-12" appearance="fill">
             <mat-label>Medio</mat-label>
             <mat-select formControlName="medio">
              <mat-option *ngFor="let medio of medios" [value]="medio.llave">{{medio.llave}}</mat-option>
            </mat-select>
           </mat-form-field>
           <!-- Seccion de errores -->
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('medio')?.hasError('required') && albumForm.get('medio')?.touched">
              Debe seleccionar el medio del álbum
            </div>
          </div>
          <!-- Descripcion -->
          <div class="row">
           <mat-form-field class="col-12" appearance="fill">
             <mat-label>Descripción</mat-label>
             <textarea matInput class=" form-control" formControlName="descripcion" placeholder="Descripción del álbum"></textarea>
           </mat-form-field>
           <!-- Seccion de errores -->
           <div class="alert alert-danger my-3" *ngIf="albumForm.get('descripcion')?.hasError('required') && albumForm.get('descripcion')?.touched">
            Debe ingresar una descripción para el álbum
            </div>
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('descripcion')?.hasError('minlength')">
              La descripción del álbum debe tener por lo menos un carácter
            </div>
            <div class="alert alert-danger my-3" *ngIf="albumForm.get('descripcion')?.hasError('maxlength')">
              La descripción del álbum no debe superar los 512 carácteres
            </div>
         </div>
         <!-- Botones -->
          <div class="row mt-4">
            <div class="col-6 text-end">
              <button mat-raised-button (click)="cancelCreate()">Cancelar</button>
            </div>
            <div class="col-6 text-start">
              <button type="submit" mat-raised-button color="primary" [disabled]="!albumForm.valid">Crear</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
